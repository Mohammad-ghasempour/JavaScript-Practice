<!DOCTYPE html>
<html lang="en">



<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.css" />
 
    <title>Document</title>



</head>

<body>
<div>
    <h2>Chuck Norris Joke Generator</h2>
    <form>
        <div>
            <label for="number">Number of Joke</label>
            <input type="number" id="number" value="">
        </div>
        <div><button id="get-jokes">Get Joke</button></div>
    </form>
    <ul id="jokes"></ul>
</div>

</body>

<script>
        
    document.getElementById('get-jokes').addEventListener('click', getJokes);
    function getJokes(e){
        const number = document.getElementById('number').value;
        const xhr = new XMLHttpRequest();
    xhr.open('GET',`http://api.icndb.com/jokes/random/${number}`,true);
        xhr.onload = function(){
        if (this.status === 200){
            const response = JSON.parse(this.responseText);
            let output='';
            if (response.type === 'success'){
                response.value.forEach(function(text){
                    output+= `<li>${text.joke}</li>`;
                } )
                
            }
            else{
                output+= `<li>Something went wrong</li>`;
            }
            document.getElementById('jokes').innerHTML=output;
        }
    }
    xhr.send();
    
    e.preventDefault();

    }
</script>

</html>